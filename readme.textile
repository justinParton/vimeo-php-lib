h1. PHPCLI VIMEO Upload

Using these files, along with the PHPCLI, it is possible to have an automated upload to vimeo from a broadcasting, or any other workstation.

h1. RUN THROUGH

These will be the things you will need:
<pre>
PHPCLI - http://windows.php.net/download/
Vimeo php library - This Repository
A web server: We need a webserver Temporarily so we can set up authentication.
ftp login: Unless you got a better way to get those files up to the web server.
</pre>

h3. 1. Developer keys.

Go Here: <pre>http://vimeo.com/api/applications</pre>
click the link that says "Start a new Application? Start Here"
fill it out the form:
<pre>- it is paramount that you add a callback url to this form; </pre>
                              
	When i filled out this form i chose an url address that pointed to where my upload library would be stored TEMPORARILY
because we have to query the authentication server to give your upload script rights to upload. so here is what i did.
i ftp'd the vimeo php library to a folder on my church web server. the location of the folder on my church web server is the address 
i put into the callback url box.      

My address was http://www.server_here.org/ 23/upload/index.php  (23 is my demo folder, upload is the subdirectory)   
    

In a couple of days they will approve it. this is by far the longest part of the whole process.

<pre>side note: this is the same page that will have your consumer secret and consumer key (which is needed when your application is approved) on step 4.</pre>


h3. 2.  install  phpCLI 

Install it on the computer system you will be using. i used the installer for windows.
            
- i used the latest version of php for apache. only because i knew i wasn't using a web server. 

( you don't need a webserver or any other software for what we are doing)

- if your using window, pick the installers

h3. 3. Update PATH

Add the location of your php directory to the PATH variable.

The links below will detail the instruction for windows clients: 
<pre>          
windows xp: http://www.computerhope.com/issues/ch000549.htm
windows vista: http://geekswithblogs.net/renso/archive/2009/10/21/how-to-set-the-windows-path-in-windows-7.aspx
windows 7: http://geekswithblogs.net/renso/archive/2009/10/21/how-to-set-the-windows-path-in-windows-7.aspx 
</pre>

h4. check to make sure everything has been set up right:
                
Open up an command prompt, and enter the command "php". A prompt should automatically follow with the words CLI. 
if you got that, your good to go.  If not, enter the path at the command line, and make sure that your directory to the php folder is 
present, it will be at the end. if not,  close the command line window and reopen it, and execute the path command. if it still doesn't work, you have a php  
installation issue, i had a couple of these and had to reinstall a couple of times before it actually worked itself out. as much as i tried, i never got it working,
it just ended up working itself out.

h3. 4. Upload configuraton (easy part)
 
using the vimeo files that you downloaded at the top of this page, open them up and open index.php in a text editor
things you need to change:
Consumer key:  this is that consumer key i talked about in step 1(replace CONSUMER_KEY with the actual "consumer key")
Consumer secret: same as above. replace CONSUMER_SECRET with the actual "consumer secret"
         
save it, close index.php and open upload.phpâ€¦.Keep this open but go ahead and upload the vimeo php folder to your designated spot on your webserver.

Heres what happens:       go to the vimeo php library folder  that sits on your webserver
----> click authenticate link 
---------->  it goes to vimeo, comes back to your page automatically  ( the reasons we need a callback url)
--------------> it displays the necessary login keys you need
                               
those login keys are labeled. in your upload .php file, replace:
                                
<pre>  $vimeo = new phpVimeo('CONSUMER_KEY', 'CONSUMER_SECRET', 'ACCESS_TOKEN', 'ACCESS_TOKEN_SECRET'); </pre>

with the appropriate keys

And then save the file.

h3. 5.    Execution:

place vimeo.php and upload.php in a directory on your hard drive. 
Go to that folder on the command line and execute <pre>"php upload.php"</pre>
and it will attempt to upload a "ready.mp4" in the same folder to vimeo.com
      
all i did from there was create a batch file to click on that had the commands php upload.php in it and execute it after i do postprocessing

h1. Support

If you have any questons, email me at justin.parton[AT]gmail.com 